<!doctype html>
<html ng-app="cvillized_popup">
  <head>
    <title>Cvillized Popup</title>
    <link rel="stylesheet" type="text/css" href="stylesheets/cvillized_popup.css">

    <!--
      - JavaScript and HTML must be in separate files: see our Content Security
      - Policy documentation[1] for details and explanation.
      -
      - [1]: http://developer.chrome.com/extensions/contentSecurityPolicy.html
     -->

     <!-- no need for js right now in stub popup -->
    <!-- script src="cvillized.js"-->
  </head>
  <body>
    <div class="preferences">
      <h2>Preferences</h2>
      [TODO: allow setting some global preferences]
    </div>
    <div class="rules" ng-controller="RulesController">
      <h2>Rules</h2>
      <table>
        <thead>
          <tr>
            <th>Rule</th>
            <th>Description</th>
            <th>Enabled?</th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="rule in rules" ng-controller="RuleController">
            <td ng-click="open(rule)">{{rule.name}}</td>
            <td ng-click="open(rule)">{{rule.description}}</td>
            <td>
              <form novalidate>
                <input type="checkbox" checked="checked" disabled="true">
              </form>
            </td>
          </tr>
        </tbody>
      </table>
      <ng-switch on="anyRuleOpen()">
      <div ng-switch-when="true">
        <div ng-controller="RuleController">
          <form novalidate>
            <input type="text" ng-model="openRule.name" placeholder="Name">
            <input ng-model="openRule.description" placeholder="Description">
            <br/>
            <input ng-model="openRule.search" placeholder="Search">
            <input ng-model="openRule.img" placeholder="Replace Image">
            <input ng-model="openRule.txt" placeholder="Replace Text">
          </form>
        </div>
      </div>
      <button ng-click="add()">+ New Rule</button>
      <button ng-click="save()">Save</button>
    </div>

    <script type="text/javascript" src="javascripts/jquery-2.1.1.min.js"></script>
    <script type="text/javascript" src="javascripts/angular-1.3.0.js"></script>
    <script type="text/javascript" src="javascripts/rule.js"></script>
    <script type="text/javascript" src="javascripts/cvillized_popup.js"></script>
  </body>
</html>

