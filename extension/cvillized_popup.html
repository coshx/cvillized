<!doctype html>
<html ng-app="cvillized_popup">
  <head>
    <title>Cvillized Popup</title>
    <link rel="stylesheet" type="text/css" href="stylesheets/cvillized_popup.css">

    <!--
      - JavaScript and HTML must be in separate files: see our Content Security
      - Policy documentation[1] for details and explanation.
      -
      - [1]: http://developer.chrome.com/extensions/contentSecurityPolicy.html
     -->

     <!-- no need for js right now in stub popup -->
    <!-- script src="cvillized.js"-->
  </head>
  <body>
    <div class="preferences">
      <h2>Preferences</h2>
      [TODO: allow setting some global preferences]
    </div>
    <div class="rules" ng-controller="RulesController">
      <h2>Rules</h2>
      <table>
        <thead>
          <tr>
            <th>Rule</th>
            <th>Description</th>
            <th>Enabled?</th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="rule in rules" ng-controller="RuleController">
            <td ng-click="open(rule)">{{rule.name}}</td>
            <td ng-click="open(rule)">{{rule.description}}</td>
            <td>YES</td>
          </tr>
        </tbody>
      </table>
      <ng-switch on="anyRuleOpen()">
      <div ng-switch-when="true">
        <div ng-controller="RuleController">
          <input value="{{openRule.name}}" placeholder="Name">
          <input value="{{openRule.description}}" placeholder="Description">
          <br/>
          <input value="{{openRule.search}}" placeholder="Search">
          <input value="{{openRule.replace}}" placeholder="Replace">
        </div>
      </div>
    </div>

    <script type="text/javascript" src="javascripts/jquery-2.1.1.min.js"></script>
    <script type="text/javascript" src="javascripts/angular-1.3.0.min.js"></script>
    <script type="text/javascript" src="javascripts/cvillized_popup.js"></script>
  </body>
</html>

